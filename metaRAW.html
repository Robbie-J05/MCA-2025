<html>
  <!--Version 1.0-->
  <head>
    <title>My Piece</title>
    <meta charset="utf-8">
    <!-- Make sure this file name and path are correct -->
    <link rel="stylesheet" href="css/myMETA.css" media="all" />
    <link rel="stylesheet" href="css/style.css" media="all" />
    <script src="js/CETEI.js"></script>
  </head>

  <body>
    <!-- Metadata box -->
    <div id="MEImeta"></div>

    <!-- Verovio app container (only one!) -->
    <div id="app" class="panel"
         style="border: 1px solid lightgray; height: 600px; margin: 1rem auto;">
      Verovio is loading...
    </div>

    <div><p>TEST</p></div>

    <!-- Verovio App script -->
    <script type="module">
      import 'https://www.verovio.org/javascript/app/verovio-app.js';

      const app = new Verovio.App(
        document.getElementById("app"),
        {} // keep empty for now; you can add options later
      );

      // Load the MEI file (for Verovio)
      fetch("data/Money week 5b.mei")
        .then(function(response) {
          return response.text();
        })
        .then(function(text) {
          app.loadData(text);
        });
    </script>

    <!-- CETEI for MEI metadata -->
    <script>
      // Get, parse and show MEI header data
      var CETEI4MEI = new CETEI();
      CETEI4MEI.addBehaviors({
        namespaces: {
          mei: "http://www.music-encoding.org/ns/mei"
        }
      });

      CETEI4MEI.getHTML5("data/Money week 5b.mei", function(data) {
        // get header
        var meiHead = data.querySelector('mei-meiHead') || data.querySelector('meiHead');
        if (meiHead) {
          document.getElementById("MEImeta").appendChild(meiHead);
        }
      });
    </script>
  </body>

  <footer>
    <p>
      Score rendering provided by
      <a href="http://www.verovio.org">Verovio</a>.
      Metadata rendered by
      <a href="https://github.com/TEIC/CETEIcean/">CETEIcean</a>.
    </p>
  </footer>
</html>

